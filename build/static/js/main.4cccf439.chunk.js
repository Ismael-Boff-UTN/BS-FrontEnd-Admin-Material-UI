(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{524:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(16),i=a.n(c),r=a(77),s=a(36),l=a(63),d=a(24),u=a(27),b=a(567),j=a(330),m=a(549),p=a(329),h=a(547),g=a(175),O=a(258),x=a(548),f=a(78),v=a(328),k=a(218),C=a.n(k),y=a(64),S=a(44),w=a.n(S),N=a(84),E="https://buen-sabor-api.herokuapp.com/api",I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(E,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(E,"/").concat(e),o=localStorage.getItem("token")||"";return"GET"===a?fetch(n,{method:a,headers:{"x-token":o}}):fetch(n,{method:a,headers:{"Content-type":"application/json","x-token":o},body:JSON.stringify(t)})},B="[auth] Finish cheking login state",D="[auth] login",M="[auth] Logout",F=a(37),R=a.n(F),T=function(){return{type:B}},z=function(e){return{type:D,payload:e}},P=function(){return{type:M}},L=a(4);function q(){return Object(L.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(L.jsx)(h.a,{color:"inherit",href:"https://genshin.gg/",children:"Program1.h -"})," ",(new Date).getFullYear(),"."]})}var V=Object(v.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1553356084-58ef4a67b2a7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_=function(){var e=V(),t=Object(y.c)(),a=Object(n.useState)({email:"",password:""}),o=Object(u.a)(a,2),c=o[0],i=o[1],r=c.email,s=c.password,h=function(e){var t=e.target;i(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({},t.name,t.value)))};return Object(L.jsxs)(x.a,{container:!0,component:"main",className:e.root,children:[Object(L.jsx)(m.a,{}),Object(L.jsx)(x.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(L.jsx)(x.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0,children:Object(L.jsxs)("div",{className:e.paper,children:[Object(L.jsx)(b.a,{className:e.avatar,children:Object(L.jsx)(C.a,{})}),Object(L.jsx)(f.a,{component:"h1",variant:"h5",children:"Buen Sabor ADMIN CONSOLE"}),Object(L.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),""===r||""===s)return R.a.fire("","Complete Los Campos!","warning");t(function(e,t){return function(){var a=Object(N.a)(w.a.mark((function a(n){var o,c;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I("auth/admin-login",{email:e,password:t},"POST");case 2:return o=a.sent,a.next=5,o.json();case 5:"Login OK"===(c=a.sent).msg?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),n(z({uid:c.usuario.uid,name:c.usuario.nombre,resto:c.usuario}))):(console.log(c.msg),R.a.fire("Error","".concat(c.msg),"warning"));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,s))},children:[Object(L.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:h}),Object(L.jsx)(p.a,{variant:"outlined",margin:"normal",required:"true",fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onChange:h}),Object(L.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,children:"Iniciar Sesi\xf3n"}),Object(L.jsx)(O.a,{mt:5,children:Object(L.jsx)(q,{})})]})]})})]})},U=a(228),G=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,["isAuthenticated","component"]);return Object(L.jsx)(s.b,Object(d.a)(Object(d.a)({},n),{},{component:function(e){return t?Object(L.jsx)(s.a,{to:"/home"}):Object(L.jsx)(a,Object(d.a)({},e))}}))},W=function(e){var t=e.isAuthenticated,a=e.component,n=Object(U.a)(e,["isAuthenticated","component"]);return Object(L.jsx)(s.b,Object(d.a)(Object(d.a)({},n),{},{component:function(e){return t?Object(L.jsx)(a,Object(d.a)({},e)):Object(L.jsx)(s.a,{to:"/"})}}))},H=a(62),J=a(559),K=a(139),X=a(33),Y=a.n(X),Z=a(83),Q=a.n(Z),$=a(86),ee=a.n($),te=a(135),ae=a(138),ne=a.n(ae),oe=a(563),ce=a(553),ie=a(561),re=a(554),se=a(560),le=a(264),de=a(269),ue=a(342),be=a(555),je=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},extendedIcon:{marginRight:e.spacing(1)},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}}}})),me=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState({denominacion:Text,precioVenta:Number,tiempoEstimadoCocina:Number,imagen:"",esManufacturado:Boolean}),i=Object(u.a)(c,2),r=i[0],s=i[1],b=je(),m=localStorage.getItem("token"),h=function(){n(!1)},g=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:b.fab,children:[Object(L.jsx)(ne.a,{}),"A\xf1adir Producto"]}),Object(L.jsxs)(ce.a,{open:a,onClose:h,"aria-labelledby":"form-dialog-title",fullScreen:!0,children:[Object(L.jsx)(ie.a,{id:"form-dialog-title",children:"Creacion de nuevo producto"}),Object(L.jsxs)(re.a,{className:"container",children:[Object(L.jsx)(se.a,{children:"Ingrese los datos del producto a agregar"}),Object(L.jsxs)("form",{className:b.root,children:[Object(L.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:g,name:"denominacion",required:"true"}),Object(L.jsx)(p.a,{id:"outlined-basic",label:"Precio",variant:"outlined",onChange:g,name:"precioVenta",required:"true",type:"number"}),Object(L.jsx)(p.a,{id:"outlined-basic",label:"Tiempo de cocina (minutos)",variant:"outlined",onChange:g,name:"tiempoEstimadoCocina",required:"true",type:"number"}),Object(L.jsx)(le.a,{children:"\xbfEs manufacturado?"}),Object(L.jsxs)(de.a,{id:"demo-simple-select-outlined-label",name:"esManufacturado",label:"\xbfEs manufacturado?",variant:"outlined",onChange:g,required:"true",children:[Object(L.jsx)(ue.a,{value:!0,children:"Si"}),Object(L.jsx)(ue.a,{value:!1,children:"No"})]}),Object(L.jsx)(p.a,{id:"outlined-basic",label:"Imagen",variant:"outlined",onChange:function(e){var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onload=function(){s(Object(d.a)(Object(d.a)({},r),{},{imagen:t.result}))}},name:"imagen",required:"true",type:"file"})]})]}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(j.a,{type:"submit",onClick:function(e){e.preventDefault(),""!==r.denominacion&&""!==r.precioVenta&&""!==r.tiempoEstimadoCocina&&""!==r.imagen&&""!==r.esManufacturado||alert("Campos Vacios"),Y.a.post("https://buen-sabor-api.herokuapp.com/api/articulos",r,{headers:{"x-token":m}}).then((function(e){console.log(e.data),h(),R.a.fire("","".concat(e.data.msg),"success")})).catch((function(e){console.log(e)}))},color:"primary",variant:"contained",children:"Guardar"}),Object(L.jsx)(j.a,{onClick:h,color:"primary",variant:"contained",children:"Cancelar"})]})]})]})},pe=a(226),he=a.n(pe),ge=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),Oe=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=ge();Object(n.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/articulos/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.articulos)})).catch((function(e){console.log(e)}))}),[e,s]);var b=[{title:"Denominacion",field:"denominacion",type:"text"},{title:"\xbfEs Manufacturado?",field:"esManufacturado",lookup:{true:"Si",false:"No"},render:function(e){return!0===e.esManufacturado?Object(L.jsx)(ee.a,{label:"SI",style:{backgroundColor:"green",color:"white"}}):Object(L.jsx)(ee.a,{label:"NO",style:{backgroundColor:"red",color:"white"}})}},{title:"Imagen",field:"imagen",render:function(e){return Object(L.jsx)("img",{src:e.imagen,style:{width:50,borderRadius:"20%"},alt:"prod"})},editComponent:function(e){return Object(L.jsxs)("div",{className:d.root,children:[Object(L.jsx)("input",{accept:"image/*",className:d.input,id:"contained-button-file",type:"file",onChange:function(t){return e.onChange(t.target.value)}}),Object(L.jsx)("label",{htmlFor:"contained-button-file",children:Object(L.jsxs)(j.a,{variant:"contained",color:"primary",component:"span",children:[Object(L.jsx)(he.a,{}),"\xa0\xa0 Subir"]})})]})}},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Tiempo Cocci\xf3n",field:"tiempoEstimadoCocina"},{title:"Estado",field:"estado",editable:"never",render:function(e){return!0===e.estado?Object(L.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(L.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}],m=Object(n.useCallback)((function(t){Y.a.delete("https://buen-sabor-api.herokuapp.com/api/articulos/".concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),R.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);return Object(L.jsxs)("div",{children:[0===o.length?Object(L.jsx)(H.BlockLoading,{size:"large"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Q.a,{columns:b,data:o,title:"Listado De Productos",actions:[{icon:"delete",tooltip:"Eliminar Producto",onClick:function(e,t){return m(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(K.a)(o),i=n.tableData.id,c[i]=a,t.next=5,Y.a.put("https://buen-sabor-api.herokuapp.com/api/articulos/".concat(n._id),a,{headers:{"x-token":e}}).then((function(e){R.a.fire("OK!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})}),Object(L.jsx)(me,{})]})},xe=a(368),fe=a(377),ve=a.n(fe),ke=a(378),Ce=a.n(ke),ye=a(558),Se=a(343),we=a(376),Ne=a.n(we),Ee=a(562),Ie=a(565),Ae=a(564),Be=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(3),width:"30ch"}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}},buttonSave:{borderRadius:"20px",background:"#388e3c","&:hover":{backgroundColor:"#1b5e20",borderColor:"#0062cc",boxShadow:"none"}},buttonCancel:{borderRadius:"20px",background:"#b71c1c","&:hover":{backgroundColor:"#e53935",borderColor:"#0062cc",boxShadow:"none"}},dialogTitle:{marginBottom:"60px"},dialogBar:{background:"#f52f41"}}})),De=o.a.forwardRef((function(e,t){return Object(L.jsx)(Ee.a,Object(d.a)({direction:"up",ref:t},e))})),Me=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState(!1),i=Object(u.a)(c,2),r=i[0],s=i[1],b=o.a.useState(!1),m=Object(u.a)(b,2),h=m[0],g=m[1],O=Be(),x=localStorage.getItem("token"),f=o.a.useState({denominacion:"",precioVenta:"",precioCompra:"",stockActual:"",stockMinimo:"",unidadMedida:""}),v=Object(u.a)(f,2),k=v[0],C=v[1],y=function(){n(!1),g(!1)},S=function(e){C(Object(d.a)(Object(d.a)({},k),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:O.fab,children:[Object(L.jsx)(ne.a,{}),"A\xf1adir Ingrediente"]}),Object(L.jsxs)(ce.a,{open:a,onClose:y,"aria-labelledby":"form-dialog-title",TransitionComponent:De,maxWidth:"md",children:[Object(L.jsx)(ie.a,{id:"form-dialog-title",className:O.dialogTitle,children:Object(L.jsx)(ye.a,{position:"absolute",className:O.dialogBar,children:Object(L.jsx)(Se.a,{children:"Creacion De Nuevo Ingrediente"})})}),h?Object(L.jsxs)(Ie.a,{severity:"warning",children:[Object(L.jsx)(Ae.a,{children:"Atenci\xf3n!"}),"No Pueden Quedar Campos Vacios \u2014 ",Object(L.jsx)("strong",{children:"Revisalos!"})]}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(re.a,{children:Object(L.jsx)(Ne.a,{children:Object(L.jsxs)("form",{className:O.root,children:[Object(L.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:S,name:"denominacion",required:"true"}),Object(L.jsx)(p.a,{id:"outlined-basic2",label:"Precio Compra",variant:"outlined",onChange:S,name:"precioCompra",type:"number",required:"true"}),Object(L.jsx)(p.a,{id:"outlined-basic3",label:"Precio Venta",variant:"outlined",onChange:S,name:"precioVenta",type:"number",required:"true"}),Object(L.jsx)(p.a,{id:"outlined-basic4",label:"Stock Actual",variant:"outlined",onChange:S,name:"stockActual",type:"number",required:"true"}),Object(L.jsx)(p.a,{id:"outlined-basic5",label:"Stock Minimo",variant:"outlined",onChange:S,name:"stockMinimo",type:"number",required:"true"}),Object(L.jsxs)(de.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:k.unidadMedida,label:"Unidad Medida",variant:"outlined",onChange:S,name:"unidadMedida",required:"true",children:[Object(L.jsx)(ue.a,{value:"gr",children:"Gramos"}),Object(L.jsx)(ue.a,{value:"kg",children:"Kilos"}),Object(L.jsx)(ue.a,{value:"unidad",children:"Unidad"})]})]})})}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(j.a,{className:O.buttonSave,type:"submit",onClick:function(e){e.preventDefault(),""!==k.denominacion&&""!==k.precioVenta&&""!==k.precioCompra&&""!==k.stockActual&&""!==k.stockMinimo&&""!==k.unidadMedida?(s(!0),g(!1),Y.a.post("".concat("https://buen-sabor-api.herokuapp.com/api","/ingredientes"),k,{headers:{"x-token":x}}).then((function(e){s(!1),y(),R.a.fire("","".concat(e.data.msg),"success")}))):g(!0)},color:"primary",variant:"contained",disabled:r,size:"large",startIcon:Object(L.jsx)(ve.a,{}),children:!0===r?"Cargando...":"Guardar"}),Object(L.jsx)(j.a,{className:O.buttonCancel,onClick:y,color:"primary",size:"large",variant:"contained",startIcon:Object(L.jsx)(Ce.a,{}),children:"Cancelar"})]})]})]})},Fe=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=Object(n.useCallback)((function(t){Y.a.delete("".concat("https://buen-sabor-api.herokuapp.com/api","/ingredientes/").concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),R.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);Object(n.useEffect)((function(){Y.a.get("".concat("https://buen-sabor-api.herokuapp.com/api","/ingredientes")).then((function(e){c(e.data.ingredientes)})).catch((function(e){console.log(e)}))}),[s]);var b=[{title:"Nombre",field:"denominacion"},{title:"Precio Compra",field:"precioCompra",type:"numeric"},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Stock Actual",field:"stockActual",type:"numeric"},{title:"Stock Minimo",field:"stockMinimo",type:"numeric"},{title:"Unidad Medida",field:"unidadMedida",lookup:{gr:"Gramos",kg:"Kilos",unidad:"Unidad",ml:"Mililitros",pz:"Pieza"}},{title:"Estado",field:"estado",editable:"never",render:function(e){return!0===e.estado?Object(L.jsx)(xe.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(L.jsx)(xe.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(L.jsx)("div",{children:0===o.length?Object(L.jsx)(H.BlockLoading,{size:"large"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("div",{className:"mt-3",children:[Object(L.jsx)(Q.a,{columns:b,data:o,title:"Listado Ingredientes",actions:[{icon:"delete",tooltip:"Eliminar Ingrediente",onClick:function(e,t){return d(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar"},body:{emptyDataSourceMessage:"No Se Encontraron Ingredientes"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(K.a)(o),i=n.tableData.id,c[i]=a,t.next=5,Y.a.put("".concat("https://buen-sabor-api.herokuapp.com/api","/ingredientes/").concat(n._id),a,{headers:{"x-token":e}}).then((function(e){R.a.fire("OK!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),Object(L.jsx)(Me,{})]})})})},Re=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/roles",{headers:{"x-token":e}}).then((function(e){c(e.data.roles)})).catch((function(e){console.log(e)}))}),[e]);return Object(L.jsx)("div",{children:0===o.length?Object(L.jsx)(H.BlockLoading,{size:"large"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Q.a,{columns:[{title:"Nombre",field:"rol"}],data:o,title:"Listado De Roles",actions:[{icon:"edit",tooltip:"Editar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},Te=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/usuarios",{headers:{"x-token":e}}).then((function(e){c(e.data.usuarios)})).catch((function(e){console.log(e)}))}),[e]);var i=[{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Foto",field:"img",render:function(e){return Object(L.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"user"})}},{title:"E-Mail",field:"email"},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(L.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(L.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(L.jsx)("div",{children:0===o.length?Object(L.jsx)(H.BlockLoading,{size:"large"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Q.a,{columns:i,data:o,title:"Listado De Usuarios",actions:[{icon:"edit",tooltip:"Editar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#FF616D",color:"#FFF"}},localization:{header:{actions:"Acciones"}},detailPanel:[{tooltip:"Ver Pedidos",render:function(e){return Object(L.jsx)("div",{style:{fontSize:10,textAlign:"center",color:"white",backgroundColor:"#43A047"},children:e.pedidos.map((function(e){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("p",{children:e.estado}),Object(L.jsx)("p",{children:e.tipoEnvio}),Object(L.jsx)("p",{children:e.fecha})]})}))})}},{icon:"account_circle",tooltip:"Show Surname",render:function(e){return Object(L.jsx)("div",{style:{fontSize:100,textAlign:"center",color:"white",backgroundColor:"#E53935"},children:e.apellido})}}]})})})},ze=a(268),Pe=a(206),Le=a(380),qe=a.n(Le),Ve=a(566),_e=a(557),Ue=a(381),Ge=a.n(Ue),We=a(382),He=a.n(We),Je=a(274),Ke=a.n(Je),Xe=a(383),Ye=a.n(Xe),Ze=a(384),Qe=a.n(Ze),$e=a(275),et=a.n($e),tt=a(379),at=a.n(tt),nt=Object(v.a)((function(e){return{grow:{flexGrow:1},mainTitle:{fontFamily:"Dancing Script",fontSize:"30px"},title:Object(l.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(l.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(l.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ot(){var e=nt(),t=Object(s.g)(),a=o.a.useState(null),n=Object(u.a)(a,2),c=n[0],i=n[1],l=o.a.useState(null),d=Object(u.a)(l,2),j=d[0],m=d[1],p=Boolean(c),h=Boolean(j),O=function(e){i(e.currentTarget)},x=function(){m(null)},v=function(){i(null),x()},k=Object(y.d)((function(e){return e.auth.resto})),S=k.nombre,w=k.apellido,N=k.img,E=Object(y.c)(),I="primary-search-account-menu",A=Object(L.jsxs)(Pe.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:I,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:v,children:[Object(L.jsxs)(ue.a,{onClick:v,children:[Object(L.jsx)(Ke.a,{}),"\xa0\xa0Perfil"]}),Object(L.jsxs)(ue.a,{onClick:function(){E((function(e){localStorage.clear(),e(P())}))},children:[Object(L.jsx)(at.a,{}),"\xa0\xa0Cerrar Sesi\xf3n"]})]}),B="primary-search-account-menu-mobile",D=Object(L.jsx)(Pe.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:B,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:x,children:Object(L.jsx)(ue.a,{onClick:O,children:Object(L.jsxs)(ze.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:[Object(L.jsx)(f.a,{className:e.avatarName,variant:"h5",children:S+" "+w}),"\xa0\xa0",Object(L.jsx)(b.a,{alt:"Remy Sharp",src:N,className:e.large}),"\xa0\xa0",Object(L.jsx)(et.a,{})]})})});return Object(L.jsxs)("div",{className:e.grow,children:[Object(L.jsxs)(ye.a,{position:"absolute",style:{background:"#2E3B55"},children:[Object(L.jsxs)(Se.a,{children:[Object(L.jsx)(b.a,{alt:"Remy Sharp",src:"assets/images/bs_admin.png",className:e.large}),Object(L.jsxs)(f.a,{className:e.mainTitle,variant:"h6",noWrap:!0,children:["\xa0\xa0","El Buen Sabor </>"]}),Object(L.jsx)("div",{className:e.grow}),Object(L.jsx)("div",{className:e.sectionDesktop,children:Object(L.jsxs)(ze.a,{edge:"start","aria-label":"account of current user","aria-controls":I,"aria-haspopup":"true",onClick:O,color:"inherit",children:[Object(L.jsx)(b.a,{alt:"Remy Sharp",src:N,className:e.large}),"\xa0\xa0",S,"\xa0\xa0",Object(L.jsx)(et.a,{})]})}),Object(L.jsx)("div",{className:e.sectionMobile,children:Object(L.jsx)(ze.a,{"aria-label":"show more","aria-controls":B,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit",children:Object(L.jsx)(qe.a,{})})})]}),Object(L.jsx)(g.a,{children:Object(L.jsxs)(Ve.a,{value:"/"!==t.location.pathname&&t.location.pathname,variant:"scrollable",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example",children:[Object(L.jsx)(_e.a,{icon:Object(L.jsx)(Ge.a,{}),label:"Home",component:r.b,to:"/home",value:"/home"}),Object(L.jsx)(_e.a,{icon:Object(L.jsx)(He.a,{}),label:"Ingredientes",component:r.b,to:"/ingredientes-list",value:"/ingredientes-list"}),Object(L.jsx)(_e.a,{icon:Object(L.jsx)(C.a,{}),label:"Productos",component:r.b,to:"/products-list",value:"/products-list"}),Object(L.jsx)(_e.a,{icon:Object(L.jsx)(Ke.a,{}),label:"Usuarios",component:r.b,to:"/usuarios-list",value:"/usuarios-list"}),Object(L.jsx)(_e.a,{icon:Object(L.jsx)(Ye.a,{}),label:"Categorias",component:r.b,to:"/categorias-list",value:"/categorias-list"}),Object(L.jsx)(_e.a,{icon:Object(L.jsx)(Qe.a,{}),label:"Roles",component:r.b,to:"/roles-list",value:"/roles-list"})]})})]}),D,A]})}var ct=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},extendedIcon:{marginRight:e.spacing(1)},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}}}})),it=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState({nombre:Text,img:"",estado:""}),i=Object(u.a)(c,2),r=i[0],s=i[1],b=ct(),m=localStorage.getItem("token"),h=function(){n(!1)};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:b.fab,children:[Object(L.jsx)(ne.a,{}),"A\xf1adir categoria"]}),Object(L.jsxs)(ce.a,{open:a,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(L.jsx)(ie.a,{id:"form-dialog-title",children:"Creacion De Nueva Categoria"}),Object(L.jsxs)(re.a,{children:[Object(L.jsx)(se.a,{children:"Por favor llene todos los campos requeridos."}),Object(L.jsxs)("form",{className:b.root,children:[Object(L.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))},name:"nombre",type:"text",required:!0}),Object(L.jsx)(p.a,{id:"outlined-basic2",label:"Imagen",variant:"outlined",onChange:function(e){var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onload=function(){s(Object(d.a)(Object(d.a)({},r),{},{img:t.result}))}},name:"img",required:!0,type:"file"})]})]}),Object(L.jsxs)(be.a,{children:[Object(L.jsx)(j.a,{id:"submitBtn",type:"submit",onClick:function(e){e.preventDefault(),document.getElementById("submitBtn").disabled=!0,""!==r.nombre&&""!==r.img||alert("Campos Vacios"),Y.a.post("https://buen-sabor-api.herokuapp.com/api/categorias",r,{headers:{"x-token":m}}).then((function(e){console.log(e),console.log(e.data),h(),document.getElementById("submitBtn").disabled=!1,R.a.fire("","".concat(e.data.msg),"success")})).catch((function(e){console.log("ERROR while posting to categories: ".concat(e))}))},color:"primary",variant:"contained",children:"Guardar"}),Object(L.jsx)(j.a,{onClick:h,color:"primary",variant:"contained",children:"Cancelar"})]})]})]})},rt=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),st=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=rt(),b=Object(n.useCallback)((function(t){Y.a.delete("https://buen-sabor-api.herokuapp.com/api/categorias/".concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),R.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);Object(n.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/categorias/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.categorias)})).catch((function(e){console.log(e)}))}),[e,s]);var m=[{title:"Nombre",field:"nombre"},{title:"Imagen",field:"img",render:function(e){return Object(L.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"product"})},editComponent:function(e){return Object(L.jsxs)("div",{className:d.root,children:[Object(L.jsx)("input",{accept:"image/*",className:d.input,id:"contained-button-file",type:"file"}),Object(L.jsx)("label",{htmlFor:"contained-button-file",children:Object(L.jsxs)(j.a,{variant:"contained",color:"primary",component:"span",children:[Object(L.jsx)(he.a,{}),"\xa0\xa0 Subir"]})})]})}},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(L.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(L.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(L.jsxs)("div",{children:[0===o.length?Object(L.jsx)(H.BlockLoading,{size:"large"}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(Q.a,{columns:m,data:o,title:"Listado De Categorias",actions:[{icon:"delete",tooltip:"Eliminar Categoria",onClick:function(e,t){return b(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(K.a)(o),i=n.tableData.id,c[i]=a,t.next=5,Y.a.put("https://buen-sabor-api.herokuapp.com/api/categorias/".concat(n._id),a,{headers:{"x-token":e}}).then((function(e){R.a.fire("Actualizado!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})}),Object(L.jsx)(it,{})]})},lt=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Home"}),Object(L.jsx)(H.HeartBoomLoading,{})]})};function dt(){return Object(L.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","El Buen Sabor ",(new Date).getFullYear(),"."]})}var ut=Object(v.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),bt=function(){var e=ut();return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)("footer",{className:e.footer,children:[Object(L.jsx)(f.a,{variant:"h6",align:"center",gutterBottom:!0,children:"El Buen Sabor"}),Object(L.jsx)(f.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Only Archons Allowed"}),Object(L.jsx)(dt,{})]})})},jt=Object(v.a)((function(e){return{root:{marginTop:"170px"}}})),mt=function(){var e=jt();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ot,{}),Object(L.jsx)(J.a,{fixed:!0,className:e.root,children:Object(L.jsxs)(s.d,{children:[Object(L.jsx)(s.b,{exact:!0,path:"/products-list",component:Oe}),Object(L.jsx)(s.b,{exact:!0,path:"/ingredientes-list",component:Fe}),Object(L.jsx)(s.b,{exact:!0,path:"/usuarios-list",component:Te}),Object(L.jsx)(s.b,{exact:!0,path:"/roles-list",component:Re}),Object(L.jsx)(s.b,{exact:!0,path:"/categorias-list",component:st}),Object(L.jsx)(s.b,{exact:!0,path:"/home",component:lt})]})}),Object(L.jsx)(bt,{})]})},pt=function(){var e=Object(y.c)(),t=Object(y.d)((function(e){return e.auth})),a=t.checking,o=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(N.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("auth/renewtoken");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(z({uid:n._id,name:n.nombre,resto:n.usuario}))):t(T());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(L.jsx)(H.SemipolarLoading,{}):Object(L.jsx)(r.a,{children:Object(L.jsxs)("div",{children:[Object(L.jsxs)(s.d,{children:[Object(L.jsx)(G,{exact:!0,path:"/",component:_,isAuthenticated:!!o}),Object(L.jsx)(W,{component:mt,isAuthenticated:!!o})]}),Object(L.jsx)(s.a,{path:"/"})]})})},ht=a(65),gt=a(385),Ot={checking:!0},xt=Object(ht.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),{},{checking:!1});case B:return Object(d.a)(Object(d.a)({},e),{},{checking:!1});case M:return{checking:!1};default:return e}}}),ft="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ht.d,vt=Object(ht.e)(xt,ft(Object(ht.a)(gt.a)));var kt=function(){return Object(L.jsx)(y.a,{store:vt,children:Object(L.jsx)(pt,{})})},Ct=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,940)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),c(e),i(e)}))};i.a.render(Object(L.jsx)(kt,{}),document.getElementById("root")),Ct()}},[[524,1,2]]]);
//# sourceMappingURL=main.4cccf439.chunk.js.map