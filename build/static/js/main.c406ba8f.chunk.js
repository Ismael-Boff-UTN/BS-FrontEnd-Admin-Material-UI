(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{808:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(23),i=a.n(c),r=a(96),s=a(50),l=a(81),d=a(35),u=a(20),j=a(858),b=a(428),m=a(834),p=a(427),h=a(832),g=a(232),O=a(335),x=a(833),f=a(98),v=a(426),k=a(288),y=a.n(k),C=a(82),S=a(53),w=a.n(S),N=a(107),E="http://localhost:4000/api",I=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(E,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},F=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(E,"/").concat(e),o=localStorage.getItem("token")||"";return"GET"===a?fetch(n,{method:a,headers:{"x-token":o}}):fetch(n,{method:a,headers:{"Content-type":"application/json","x-token":o},body:JSON.stringify(t)})},B="[auth] Finish cheking login state",A="[auth] login",D="[auth] Logout",R=a(51),T=a.n(R),M=function(){return{type:B}},P=function(e){return{type:A,payload:e}},z=function(){return{type:D}},G=a(2);function L(){return Object(G.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(G.jsx)(h.a,{color:"inherit",href:"https://genshin.gg/",children:"Program1.h -"})," ",(new Date).getFullYear(),"."]})}var V=Object(v.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1553356084-58ef4a67b2a7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),q=function(){var e=V(),t=Object(C.c)(),a=Object(n.useState)({email:"",password:""}),o=Object(u.a)(a,2),c=o[0],i=o[1],r=c.email,s=c.password,h=function(e){var t=e.target;i(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({},t.name,t.value)))};return Object(G.jsxs)(x.a,{container:!0,component:"main",className:e.root,children:[Object(G.jsx)(m.a,{}),Object(G.jsx)(x.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(G.jsx)(x.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0,children:Object(G.jsxs)("div",{className:e.paper,children:[Object(G.jsx)(j.a,{className:e.avatar,children:Object(G.jsx)(y.a,{})}),Object(G.jsx)(f.a,{component:"h1",variant:"h5",children:"Buen Sabor ADMIN CONSOLE"}),Object(G.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),""===r||""===s)return T.a.fire("","Complete Los Campos!","warning");t(function(e,t){return function(){var a=Object(N.a)(w.a.mark((function a(n){var o,c;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I("auth/admin-login",{email:e,password:t},"POST");case 2:return o=a.sent,a.next=5,o.json();case 5:"Login OK"===(c=a.sent).msg?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),n(P({uid:c.usuario.uid,name:c.usuario.nombre,resto:c.usuario}))):(console.log(c.msg),T.a.fire("Error","".concat(c.msg),"warning"));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,s))},children:[Object(G.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:h}),Object(G.jsx)(p.a,{variant:"outlined",margin:"normal",required:"true",fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onChange:h}),Object(G.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,children:"Iniciar Sesi\xf3n"}),Object(G.jsx)(O.a,{mt:5,children:Object(G.jsx)(L,{})})]})]})})]})},_=a(302),U=function(e){var t=e.isAuthenticated,a=e.component,n=Object(_.a)(e,["isAuthenticated","component"]);return Object(G.jsx)(s.b,Object(d.a)(Object(d.a)({},n),{},{component:function(e){return t?Object(G.jsx)(s.a,{to:"/home"}):Object(G.jsx)(a,Object(d.a)({},e))}}))},H=function(e){var t=e.isAuthenticated,a=e.component,n=Object(_.a)(e,["isAuthenticated","component"]);return Object(G.jsx)(s.b,Object(d.a)(Object(d.a)({},n),{},{component:function(e){return t?Object(G.jsx)(a,Object(d.a)({},e)):Object(G.jsx)(s.a,{to:"/"})}}))},K=a(115),W=a(844),J=a(186),Z=a(40),$=a.n(Z),X=a(105),Y=a.n(X),Q=a(109),ee=a.n(Q),te=a(178),ae=a(181),ne=a.n(ae),oe=a(848),ce=a(838),ie=a(846),re=a(839),se=a(845),le=a(355),de=a(362),ue=a(440),je=a(840),be=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},extendedIcon:{marginRight:e.spacing(1)},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}}}})),me=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState({denominacion:Text,precioVenta:Number,tiempoEstimadoCocina:Number,imagen:"",esManufacturado:Boolean}),i=Object(u.a)(c,2),r=i[0],s=i[1],j=be(),m=localStorage.getItem("token"),h=function(){n(!1)},g=function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:j.fab,children:[Object(G.jsx)(ne.a,{}),"A\xf1adir Producto"]}),Object(G.jsxs)(ce.a,{open:a,onClose:h,"aria-labelledby":"form-dialog-title",fullScreen:!0,children:[Object(G.jsx)(ie.a,{id:"form-dialog-title",children:"Creacion de nuevo producto"}),Object(G.jsxs)(re.a,{className:"container",children:[Object(G.jsx)(se.a,{children:"Ingrese los datos del producto a agregar"}),Object(G.jsxs)("form",{className:j.root,children:[Object(G.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:g,name:"denominacion",required:"true"}),Object(G.jsx)(p.a,{id:"outlined-basic",label:"Precio",variant:"outlined",onChange:g,name:"precioVenta",required:"true",type:"number"}),Object(G.jsx)(p.a,{id:"outlined-basic",label:"Tiempo de cocina (minutos)",variant:"outlined",onChange:g,name:"tiempoEstimadoCocina",required:"true",type:"number"}),Object(G.jsx)(le.a,{children:"\xbfEs manufacturado?"}),Object(G.jsxs)(de.a,{id:"demo-simple-select-outlined-label",name:"esManufacturado",label:"\xbfEs manufacturado?",variant:"outlined",onChange:g,required:"true",children:[Object(G.jsx)(ue.a,{value:!0,children:"Si"}),Object(G.jsx)(ue.a,{value:!1,children:"No"})]}),Object(G.jsx)(p.a,{id:"outlined-basic",label:"Imagen",variant:"outlined",onChange:function(e){var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onload=function(){s(Object(d.a)(Object(d.a)({},r),{},{imagen:t.result}))}},name:"imagen",required:"true",type:"file"})]})]}),Object(G.jsxs)(je.a,{children:[Object(G.jsx)(b.a,{type:"submit",onClick:function(e){e.preventDefault(),""!==r.denominacion&&""!==r.precioVenta&&""!==r.tiempoEstimadoCocina&&""!==r.imagen&&""!==r.esManufacturado||alert("Campos Vacios"),$.a.post("http://localhost:4000/api/articulos",r,{headers:{"x-token":m}}).then((function(e){console.log(e.data),h(),T.a.fire("","".concat(e.data.msg),"success")})).catch((function(e){console.log(e)}))},color:"primary",variant:"contained",children:"Guardar"}),Object(G.jsx)(b.a,{onClick:h,color:"primary",variant:"contained",children:"Cancelar"})]})]})]})},pe=a(296),he=a.n(pe),ge=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),Oe=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=ge();Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/articulos/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.articulos)})).catch((function(e){console.log(e)}))}),[e,s]);var j=[{title:"Denominacion",field:"denominacion",type:"text"},{title:"\xbfEs Manufacturado?",field:"esManufacturado",lookup:{true:"Si",false:"No"},render:function(e){return!0===e.esManufacturado?Object(G.jsx)(ee.a,{label:"SI",style:{backgroundColor:"green",color:"white"}}):Object(G.jsx)(ee.a,{label:"NO",style:{backgroundColor:"red",color:"white"}})}},{title:"Imagen",field:"imagen",render:function(e){return Object(G.jsx)("img",{src:e.imagen,style:{width:50,borderRadius:"20%"},alt:"prod"})},editComponent:function(e){return Object(G.jsxs)("div",{className:d.root,children:[Object(G.jsx)("input",{accept:"image/*",className:d.input,id:"contained-button-file",type:"file",onChange:function(t){return e.onChange(t.target.value)}}),Object(G.jsx)("label",{htmlFor:"contained-button-file",children:Object(G.jsxs)(b.a,{variant:"contained",color:"primary",component:"span",children:[Object(G.jsx)(he.a,{}),"\xa0\xa0 Subir"]})})]})}},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Tiempo Cocci\xf3n",field:"tiempoEstimadoCocina"},{title:"Estado",field:"estado",editable:"never",render:function(e){return!0===e.estado?Object(G.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(G.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}],m=Object(n.useCallback)((function(t){$.a.delete("http://localhost:4000/api/articulos/".concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),T.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);return Object(G.jsxs)("div",{children:[0===o.length?Object(G.jsx)(K.BlockLoading,{size:"large"}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Y.a,{columns:j,data:o,title:"Listado De Productos",actions:[{icon:"delete",tooltip:"Eliminar Producto",onClick:function(e,t){return m(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(J.a)(o),i=n.tableData.id,c[i]=a,t.next=5,$.a.put("http://localhost:4000/api/articulos/".concat(n._id),a,{headers:{"x-token":e}}).then((function(e){T.a.fire("OK!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})}),Object(G.jsx)(me,{})]})},xe=a(497),fe=a(506),ve=a.n(fe),ke=a(507),ye=a.n(ke),Ce=a(843),Se=a(441),we=a(505),Ne=a.n(we),Ee=a(847),Ie=a(856),Fe=a(849),Be=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(3),width:"30ch"}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}},buttonSave:{borderRadius:"20px",background:"#388e3c","&:hover":{backgroundColor:"#1b5e20",borderColor:"#0062cc",boxShadow:"none"}},buttonCancel:{borderRadius:"20px",background:"#b71c1c","&:hover":{backgroundColor:"#e53935",borderColor:"#0062cc",boxShadow:"none"}},dialogTitle:{marginBottom:"60px"},dialogBar:{background:"#f52f41"}}})),Ae=o.a.forwardRef((function(e,t){return Object(G.jsx)(Ee.a,Object(d.a)({direction:"up",ref:t},e))})),De=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState(!1),i=Object(u.a)(c,2),r=i[0],s=i[1],j=o.a.useState(!1),m=Object(u.a)(j,2),h=m[0],g=m[1],O=Be(),x=localStorage.getItem("token"),f=o.a.useState({denominacion:"",precioVenta:"",precioCompra:"",stockActual:"",stockMinimo:"",unidadMedida:""}),v=Object(u.a)(f,2),k=v[0],y=v[1],C=function(){n(!1),g(!1)},S=function(e){y(Object(d.a)(Object(d.a)({},k),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:O.fab,children:[Object(G.jsx)(ne.a,{}),"A\xf1adir Ingrediente"]}),Object(G.jsxs)(ce.a,{open:a,onClose:C,"aria-labelledby":"form-dialog-title",TransitionComponent:Ae,maxWidth:"md",children:[Object(G.jsx)(ie.a,{id:"form-dialog-title",className:O.dialogTitle,children:Object(G.jsx)(Ce.a,{position:"absolute",className:O.dialogBar,children:Object(G.jsx)(Se.a,{children:"Creacion De Nuevo Ingrediente"})})}),h?Object(G.jsxs)(Ie.a,{severity:"warning",children:[Object(G.jsx)(Fe.a,{children:"Atenci\xf3n!"}),"No Pueden Quedar Campos Vacios \u2014 ",Object(G.jsx)("strong",{children:"Revisalos!"})]}):Object(G.jsx)(G.Fragment,{}),Object(G.jsx)(re.a,{children:Object(G.jsx)(Ne.a,{children:Object(G.jsxs)("form",{className:O.root,children:[Object(G.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:S,name:"denominacion",required:"true"}),Object(G.jsx)(p.a,{id:"outlined-basic2",label:"Precio Compra",variant:"outlined",onChange:S,name:"precioCompra",type:"number",required:"true"}),Object(G.jsx)(p.a,{id:"outlined-basic3",label:"Precio Venta",variant:"outlined",onChange:S,name:"precioVenta",type:"number",required:"true"}),Object(G.jsx)(p.a,{id:"outlined-basic4",label:"Stock Actual",variant:"outlined",onChange:S,name:"stockActual",type:"number",required:"true"}),Object(G.jsx)(p.a,{id:"outlined-basic5",label:"Stock Minimo",variant:"outlined",onChange:S,name:"stockMinimo",type:"number",required:"true"}),Object(G.jsxs)(de.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:k.unidadMedida,label:"Unidad Medida",variant:"outlined",onChange:S,name:"unidadMedida",required:"true",children:[Object(G.jsx)(ue.a,{value:"gr",children:"Gramos"}),Object(G.jsx)(ue.a,{value:"kg",children:"Kilos"}),Object(G.jsx)(ue.a,{value:"unidad",children:"Unidad"})]})]})})}),Object(G.jsxs)(je.a,{children:[Object(G.jsx)(b.a,{className:O.buttonSave,type:"submit",onClick:function(e){e.preventDefault(),""!==k.denominacion&&""!==k.precioVenta&&""!==k.precioCompra&&""!==k.stockActual&&""!==k.stockMinimo&&""!==k.unidadMedida?(s(!0),g(!1),$.a.post("".concat("http://localhost:4000/api","/ingredientes"),k,{headers:{"x-token":x}}).then((function(e){s(!1),C(),T.a.fire("","".concat(e.data.msg),"success")}))):g(!0)},color:"primary",variant:"contained",disabled:r,size:"large",startIcon:Object(G.jsx)(ve.a,{}),children:!0===r?"Cargando...":"Guardar"}),Object(G.jsx)(b.a,{className:O.buttonCancel,onClick:C,color:"primary",size:"large",variant:"contained",startIcon:Object(G.jsx)(ye.a,{}),children:"Cancelar"})]})]})]})},Re=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=Object(n.useCallback)((function(t){$.a.delete("".concat("http://localhost:4000/api","/ingredientes/").concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),T.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);Object(n.useEffect)((function(){$.a.get("".concat("http://localhost:4000/api","/ingredientes")).then((function(e){c(e.data.ingredientes)})).catch((function(e){console.log(e)}))}),[s]);var j=[{title:"Nombre",field:"denominacion"},{title:"Precio Compra",field:"precioCompra",type:"numeric"},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Stock Actual",field:"stockActual",type:"numeric"},{title:"Stock Minimo",field:"stockMinimo",type:"numeric"},{title:"Unidad Medida",field:"unidadMedida",lookup:{gr:"Gramos",kg:"Kilos",unidad:"Unidad",ml:"Mililitros",pz:"Pieza"}},{title:"Estado",field:"estado",editable:"never",render:function(e){return!0===e.estado?Object(G.jsx)(xe.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(G.jsx)(xe.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Y.a,{columns:j,data:o,title:"Listado Ingredientes",actions:[{icon:"delete",tooltip:"Eliminar Ingrediente",onClick:function(e,t){return d(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar"},body:{emptyDataSourceMessage:"No Se Encontraron Ingredientes"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(J.a)(o),i=n.tableData.id,c[i]=a,t.next=5,$.a.put("".concat("http://localhost:4000/api","/ingredientes/").concat(n._id),a,{headers:{"x-token":e}}).then((function(e){T.a.fire("OK!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),Object(G.jsx)(De,{})]})},Te=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/roles",{headers:{"x-token":e}}).then((function(e){c(e.data.roles)})).catch((function(e){console.log(e)}))}),[e]);return Object(G.jsx)("div",{children:0===o.length?Object(G.jsx)(K.BlockLoading,{size:"large"}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Y.a,{columns:[{title:"Nombre",field:"rol"}],data:o,title:"Listado De Roles",actions:[{icon:"edit",tooltip:"Editar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},Me=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/usuarios",{headers:{"x-token":e}}).then((function(e){c(e.data.usuarios)})).catch((function(e){console.log(e)}))}),[e]);var i=[{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Foto",field:"img",render:function(e){return Object(G.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"user"})}},{title:"E-Mail",field:"email"},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(G.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(G.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(G.jsx)("div",{children:0===o.length?Object(G.jsx)(K.BlockLoading,{size:"large"}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Y.a,{columns:i,data:o,title:"Listado De Usuarios",actions:[{icon:"edit",tooltip:"Editar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#FF616D",color:"#FFF"}},localization:{header:{actions:"Acciones"}},detailPanel:[{tooltip:"Ver Pedidos",render:function(e){return Object(G.jsx)("div",{style:{fontSize:10,textAlign:"center",color:"white",backgroundColor:"#43A047"},children:e.pedidos.map((function(e){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("p",{children:e.estado}),Object(G.jsx)("p",{children:e.tipoEnvio}),Object(G.jsx)("p",{children:e.fecha})]})}))})}},{icon:"account_circle",tooltip:"Show Surname",render:function(e){return Object(G.jsx)("div",{style:{fontSize:100,textAlign:"center",color:"white",backgroundColor:"#E53935"},children:e.apellido})}}]})})})},Pe=a(359),ze=a(276),Ge=a(509),Le=a.n(Ge),Ve=a(857),qe=a(842),_e=a(510),Ue=a.n(_e),He=a(511),Ke=a.n(He),We=a(367),Je=a.n(We),Ze=a(512),$e=a.n(Ze),Xe=a(513),Ye=a.n(Xe),Qe=a(368),et=a.n(Qe),tt=a(508),at=a.n(tt),nt=Object(v.a)((function(e){return{grow:{flexGrow:1},mainTitle:{fontFamily:"Dancing Script",fontSize:"30px"},title:Object(l.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(l.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(l.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ot(){var e=nt(),t=Object(s.g)(),a=o.a.useState(null),n=Object(u.a)(a,2),c=n[0],i=n[1],l=o.a.useState(null),d=Object(u.a)(l,2),b=d[0],m=d[1],p=Boolean(c),h=Boolean(b),O=function(e){i(e.currentTarget)},x=function(){m(null)},v=function(){i(null),x()},k=Object(C.d)((function(e){return e.auth.resto})),S=k.nombre,w=k.apellido,N=k.img,E=Object(C.c)(),I="primary-search-account-menu",F=Object(G.jsxs)(ze.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:I,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:v,children:[Object(G.jsxs)(ue.a,{onClick:v,children:[Object(G.jsx)(Je.a,{}),"\xa0\xa0Perfil"]}),Object(G.jsxs)(ue.a,{onClick:function(){E((function(e){localStorage.clear(),e(z())}))},children:[Object(G.jsx)(at.a,{}),"\xa0\xa0Cerrar Sesi\xf3n"]})]}),B="primary-search-account-menu-mobile",A=Object(G.jsx)(ze.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:B,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:x,children:Object(G.jsx)(ue.a,{onClick:O,children:Object(G.jsxs)(Pe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:[Object(G.jsx)(f.a,{className:e.avatarName,variant:"h5",children:S+" "+w}),"\xa0\xa0",Object(G.jsx)(j.a,{alt:"Remy Sharp",src:N,className:e.large}),"\xa0\xa0",Object(G.jsx)(et.a,{})]})})});return Object(G.jsxs)("div",{className:e.grow,children:[Object(G.jsxs)(Ce.a,{position:"absolute",style:{background:"#2E3B55"},children:[Object(G.jsxs)(Se.a,{children:[Object(G.jsx)(j.a,{alt:"Remy Sharp",src:"assets/images/bs_admin.png",className:e.large}),Object(G.jsxs)(f.a,{className:e.mainTitle,variant:"h6",noWrap:!0,children:["\xa0\xa0","El Buen Sabor </>"]}),Object(G.jsx)("div",{className:e.grow}),Object(G.jsx)("div",{className:e.sectionDesktop,children:Object(G.jsxs)(Pe.a,{edge:"start","aria-label":"account of current user","aria-controls":I,"aria-haspopup":"true",onClick:O,color:"inherit",children:[Object(G.jsx)(j.a,{alt:"Remy Sharp",src:N,className:e.large}),"\xa0\xa0",S,"\xa0\xa0",Object(G.jsx)(et.a,{})]})}),Object(G.jsx)("div",{className:e.sectionMobile,children:Object(G.jsx)(Pe.a,{"aria-label":"show more","aria-controls":B,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit",children:Object(G.jsx)(Le.a,{})})})]}),Object(G.jsx)(g.a,{elevation:0,children:Object(G.jsxs)(Ve.a,{value:"/"!==t.location.pathname&&t.location.pathname,variant:"scrollable",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example",children:[Object(G.jsx)(qe.a,{icon:Object(G.jsx)(Ue.a,{}),label:"Home",component:r.b,to:"/home",value:"/home"}),Object(G.jsx)(qe.a,{icon:Object(G.jsx)(Ke.a,{}),label:"Ingredientes",component:r.b,to:"/ingredientes-list",value:"/ingredientes-list"}),Object(G.jsx)(qe.a,{icon:Object(G.jsx)(y.a,{}),label:"Productos",component:r.b,to:"/products-list",value:"/products-list"}),Object(G.jsx)(qe.a,{icon:Object(G.jsx)(Je.a,{}),label:"Usuarios",component:r.b,to:"/usuarios-list",value:"/usuarios-list"}),Object(G.jsx)(qe.a,{icon:Object(G.jsx)($e.a,{}),label:"Categorias",component:r.b,to:"/categorias-list",value:"/categorias-list"}),Object(G.jsx)(qe.a,{icon:Object(G.jsx)(Ye.a,{}),label:"Roles",component:r.b,to:"/roles-list",value:"/roles-list"})]})})]}),A,F]})}var ct=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},extendedIcon:{marginRight:e.spacing(1)},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),color:e.palette.common.white,backgroundColor:te.a[500],"&:hover":{backgroundColor:te.a[600]}}}})),it=function(){var e=o.a.useState(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=o.a.useState({nombre:Text,img:"",estado:""}),i=Object(u.a)(c,2),r=i[0],s=i[1],j=ct(),m=localStorage.getItem("token"),h=function(){n(!1)};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(oe.a,{color:"primary","aria-label":"add",variant:"extended",onClick:function(){n(!0)},className:j.fab,children:[Object(G.jsx)(ne.a,{}),"A\xf1adir categoria"]}),Object(G.jsxs)(ce.a,{open:a,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(ie.a,{id:"form-dialog-title",children:"Creacion De Nueva Categoria"}),Object(G.jsxs)(re.a,{children:[Object(G.jsx)(se.a,{children:"Por favor llene todos los campos requeridos."}),Object(G.jsxs)("form",{className:j.root,children:[Object(G.jsx)(p.a,{id:"outlined-basic",label:"Nombre",variant:"outlined",onChange:function(e){s(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))},name:"nombre",type:"text",required:!0}),Object(G.jsx)(p.a,{id:"outlined-basic2",label:"Imagen",variant:"outlined",onChange:function(e){var t=new FileReader,a=e.target.files[0];t.readAsDataURL(a),t.onload=function(){s(Object(d.a)(Object(d.a)({},r),{},{img:t.result}))}},name:"img",required:!0,type:"file"})]})]}),Object(G.jsxs)(je.a,{children:[Object(G.jsx)(b.a,{id:"submitBtn",type:"submit",onClick:function(e){e.preventDefault(),document.getElementById("submitBtn").disabled=!0,""!==r.nombre&&""!==r.img||alert("Campos Vacios"),$.a.post("http://localhost:4000/api/categorias",r,{headers:{"x-token":m}}).then((function(e){console.log(e),console.log(e.data),h(),document.getElementById("submitBtn").disabled=!1,T.a.fire("","".concat(e.data.msg),"success")})).catch((function(e){console.log("ERROR while posting to categories: ".concat(e))}))},color:"primary",variant:"contained",children:"Guardar"}),Object(G.jsx)(b.a,{onClick:h,color:"primary",variant:"contained",children:"Cancelar"})]})]})]})},rt=Object(v.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),st=function(){var e=localStorage.getItem("token"),t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=rt(),j=Object(n.useCallback)((function(t){$.a.delete("http://localhost:4000/api/categorias/".concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),T.a.fire("","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}))}),[e,s]);Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/categorias/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.categorias)})).catch((function(e){console.log(e)}))}),[e,s]);var m=[{title:"Nombre",field:"nombre"},{title:"Imagen",field:"img",render:function(e){return Object(G.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"product"})},editComponent:function(e){return Object(G.jsxs)("div",{className:d.root,children:[Object(G.jsx)("input",{accept:"image/*",className:d.input,id:"contained-button-file",type:"file"}),Object(G.jsx)("label",{htmlFor:"contained-button-file",children:Object(G.jsxs)(b.a,{variant:"contained",color:"primary",component:"span",children:[Object(G.jsx)(he.a,{}),"\xa0\xa0 Subir"]})})]})}},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(G.jsx)(ee.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(G.jsx)(ee.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(G.jsxs)("div",{children:[0===o.length?Object(G.jsx)(K.BlockLoading,{size:"large"}):Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Y.a,{columns:m,data:o,title:"Listado De Categorias",actions:[{icon:"delete",tooltip:"Eliminar Categoria",onClick:function(e,t){return j(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}},editable:{onRowUpdate:function(){var t=Object(N.a)(w.a.mark((function t(a,n){var c,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(J.a)(o),i=n.tableData.id,c[i]=a,t.next=5,$.a.put("http://localhost:4000/api/categorias/".concat(n._id),a,{headers:{"x-token":e}}).then((function(e){T.a.fire("Actualizado!","".concat(e.data.msg),"success"),l(!1===s)})).catch((function(e){console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})}),Object(G.jsx)(it,{})]})},lt=a(3),dt=a(27),ut=a(850),jt=a(851),bt=a(529),mt=a(530),pt=a(106),ht=a(533);function gt(e,t){return{time:e,amount:t}}function Ot(){var e=Object(dt.a)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/auditoria/ganancias/?fechaInicial=2021-07-06T12:00:00.773Z&fechaFinal=2021-07-07T16:00:00.773Z").then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}),[]);var r=[gt("08:00",c.totalGanancias),gt("09:00",1*c.totalGanancias),gt("12:00",1.5*c.totalGanancias),gt("15:00",2*c.totalGanancias),gt("18:00",2.5*c.totalGanancias),gt("20:00",3*c.totalGanancias)];return Object(G.jsxs)(o.a.Fragment,{children:[Object(G.jsxs)(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:["Ganancias De Hoy $ (",c.totalGanancias,")"]}),Object(G.jsx)(ut.a,{children:Object(G.jsxs)(jt.a,{data:r,margin:{top:16,right:16,bottom:0,left:24},children:[Object(G.jsx)(bt.a,{dataKey:"time",stroke:e.palette.text.secondary}),Object(G.jsx)(mt.a,{stroke:e.palette.text.secondary,children:Object(G.jsx)(pt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary},children:"Ganancias ($)"})}),Object(G.jsx)(ht.a,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1})]})})]})}var xt=Object(v.a)((function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},calcularBtn:{marginTop:"10px"}}}));function ft(e){var t=e.title,a=xt(),o=Object(n.useState)([]),c=Object(u.a)(o,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/auditoria/recaudaciones?fechaInicial=2020-06-28&fechaFinal=2025-09-30").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{children:"Recaudaciones De Hoy"===t?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:t}),Object(G.jsxs)(f.a,{component:"p",variant:"h4",children:["$ ",i.totalRecaudacion]}),Object(G.jsx)(f.a,{color:"textSecondary",className:a.depositContext,children:i.resultados})]}):Object(G.jsx)(G.Fragment,{})}),Object(G.jsx)("div",{children:"Ganancias Periodo Tiempo"===t||"Recaudaciones Periodo Tiempo"===t?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:t}),Object(G.jsxs)(f.a,{component:"p",variant:"h4",children:["$ ",i.totalRecaudacion]}),Object(G.jsx)(f.a,{color:"textSecondary",className:a.depositContext,children:i.resultados}),Object(G.jsx)(p.a,{id:"datetime-local",label:"Fecha Inicial",type:"datetime-local",defaultValue:"2017-05-24T10:30",className:a.textField,InputLabelProps:{shrink:!0}}),Object(G.jsx)(p.a,{id:"datetime-local",label:"Fecha Final",type:"datetime-local",defaultValue:"2017-05-24T10:30",className:a.textField,InputLabelProps:{shrink:!0}}),Object(G.jsx)(b.a,{variant:"contained",color:"primary",className:a.calcularBtn,children:"Calcular"})]}):Object(G.jsx)(G.Fragment,{})})]})}var vt=a(457),kt=a(445),yt=a(439),Ct=a(455),St=a(446);function wt(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){$.a.get("http://localhost:4000/api/auditoria/ultimosPedidos").then((function(e){o(e.data.ultimosPedidos)})).catch((function(e){console.log(e)}))}),[]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:"Pedidos Recientes"}),Object(G.jsxs)(vt.a,{size:"small",children:[Object(G.jsx)(Ct.a,{children:Object(G.jsxs)(St.a,{children:[Object(G.jsx)(yt.a,{children:"Fecha"}),Object(G.jsx)(yt.a,{children:"Cliente"}),Object(G.jsx)(yt.a,{children:"Enviado A"}),Object(G.jsx)(yt.a,{children:"Metodo De Pago"}),Object(G.jsx)(yt.a,{align:"right",children:"Total"})]})}),Object(G.jsx)(kt.a,{children:a.map((function(e){return Object(G.jsxs)(St.a,{children:[Object(G.jsx)(yt.a,{children:e.fecha}),Object(G.jsx)(yt.a,{children:e.nombreCliente}),Object(G.jsx)(yt.a,{children:e.domicilioEnvio.localidad}),Object(G.jsx)(yt.a,{children:e.tipoEnvio}),Object(G.jsx)(yt.a,{align:"right",children:e.total})]},e._id)}))})]})]})}var Nt=Object(v.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Et=function(){var e=Nt(),t=Object(lt.default)(e.paper,e.fixedHeight);return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(x.a,{container:!0,spacing:3,children:[Object(G.jsx)(x.a,{item:!0,xs:12,md:8,lg:9,children:Object(G.jsx)(g.a,{className:t,children:Object(G.jsx)(Ot,{})})}),Object(G.jsx)(x.a,{item:!0,xs:12,md:4,lg:3,children:Object(G.jsx)(g.a,{className:t,children:Object(G.jsx)(ft,{title:"Recaudaciones De Hoy"})})}),Object(G.jsx)(x.a,{item:!0,xs:6,md:6,sm:12,children:Object(G.jsx)(g.a,{className:t,children:Object(G.jsx)(ft,{title:"Ganancias Periodo Tiempo"})})}),Object(G.jsx)(x.a,{item:!0,xs:6,md:6,sm:12,children:Object(G.jsx)(g.a,{className:t,children:Object(G.jsx)(ft,{title:"Recaudaciones Periodo Tiempo"})})}),Object(G.jsx)(x.a,{item:!0,xs:12,children:Object(G.jsx)(g.a,{className:e.paper,children:Object(G.jsx)(wt,{})})})]})})};function It(){return Object(G.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","El Buen Sabor ",(new Date).getFullYear(),"."]})}var Ft=Object(v.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),Bt=function(){var e=Ft();return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("footer",{className:e.footer,children:[Object(G.jsx)(f.a,{variant:"h6",align:"center",gutterBottom:!0,children:"El Buen Sabor"}),Object(G.jsx)(f.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Only Archons Allowed"}),Object(G.jsx)(It,{})]})})},At=Object(v.a)((function(e){return{root:{marginTop:"170px"}}})),Dt=function(){var e=At();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ot,{}),Object(G.jsx)(W.a,{fixed:!0,className:e.root,children:Object(G.jsxs)(s.d,{children:[Object(G.jsx)(s.b,{exact:!0,path:"/products-list",component:Oe}),Object(G.jsx)(s.b,{exact:!0,path:"/ingredientes-list",component:Re}),Object(G.jsx)(s.b,{exact:!0,path:"/usuarios-list",component:Me}),Object(G.jsx)(s.b,{exact:!0,path:"/roles-list",component:Te}),Object(G.jsx)(s.b,{exact:!0,path:"/categorias-list",component:st}),Object(G.jsx)(s.b,{exact:!0,path:"/home",component:Et})]})}),Object(G.jsx)(Bt,{})]})},Rt=function(){var e=Object(C.c)(),t=Object(C.d)((function(e){return e.auth})),a=t.checking,o=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(N.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("auth/renewtoken");case 2:return a=e.sent,e.next=5,a.json();case 5:(n=e.sent).ok?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(P({uid:n._id,name:n.nombre,resto:n.usuario}))):t(M());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(G.jsx)(K.SemipolarLoading,{}):Object(G.jsx)(r.a,{children:Object(G.jsxs)("div",{children:[Object(G.jsxs)(s.d,{children:[Object(G.jsx)(U,{exact:!0,path:"/",component:q,isAuthenticated:!!o}),Object(G.jsx)(H,{component:Dt,isAuthenticated:!!o})]}),Object(G.jsx)(s.a,{path:"/"})]})})},Tt=a(83),Mt=a(531),Pt={checking:!0},zt=Object(Tt.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.payload),{},{checking:!1});case B:return Object(d.a)(Object(d.a)({},e),{},{checking:!1});case D:return{checking:!1};default:return e}}}),Gt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Tt.d,Lt=Object(Tt.e)(zt,Gt(Object(Tt.a)(Mt.a)));var Vt=function(){return Object(G.jsx)(C.a,{store:Lt,children:Object(G.jsx)(Rt,{})})},qt=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1229)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),c(e),i(e)}))};i.a.render(Object(G.jsx)(Vt,{}),document.getElementById("root")),qt()}},[[808,1,2]]]);
//# sourceMappingURL=main.c406ba8f.chunk.js.map