(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{513:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(16),i=n.n(c),r=n(71),s=n(33),l=n(86),u=n(43),d=n(57),j=n(549),b=n(322),p=n(537),h=n(321),m=n(535),g=n(166),O=n(249),f=n(536),x=n(94),k=n(320),v=n(167),y=n.n(v),C=n(60),w=n(95),S=n.n(w),E=n(170),I="https://buen-sabor-api.herokuapp.com/api",N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",o="".concat(I,"/").concat(e);return"GET"===n?fetch(o):fetch(o,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",o="".concat(I,"/").concat(e),a=localStorage.getItem("token")||"";return"GET"===n?fetch(o,{method:n,headers:{"x-token":a}}):fetch(o,{method:n,headers:{"Content-type":"application/json","x-token":a},body:JSON.stringify(t)})},L="[auth] Finish cheking login state",A="[auth] login",D="[auth] Logout",M=n(93),T=n.n(M),F=function(){return{type:L}},P=function(e){return{type:A,payload:e}},R=function(){return{type:D}},z=n(6);function _(){return Object(z.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(z.jsx)(m.a,{color:"inherit",href:"https://genshin.gg/",children:"Program1.h -"})," ",(new Date).getFullYear(),"."]})}var V=Object(k.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1553356084-58ef4a67b2a7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),G=function(){var e=V(),t=Object(C.c)(),n=Object(o.useState)({email:"",password:""}),a=Object(d.a)(n,2),c=a[0],i=a[1],r=c.email,s=c.password,m=function(e){var t=e.target;i(Object(u.a)(Object(u.a)({},c),{},Object(l.a)({},t.name,t.value)))};return Object(z.jsxs)(f.a,{container:!0,component:"main",className:e.root,children:[Object(z.jsx)(p.a,{}),Object(z.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(z.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:g.a,elevation:6,square:!0,children:Object(z.jsxs)("div",{className:e.paper,children:[Object(z.jsx)(j.a,{className:e.avatar,children:Object(z.jsx)(y.a,{})}),Object(z.jsx)(x.a,{component:"h1",variant:"h5",children:"Buen Sabor ADMIN CONSOLE"}),Object(z.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),""===r||""===s)return T.a.fire("","Complete Los Campos!","warning");t(function(e,t){return function(){var n=Object(E.a)(S.a.mark((function n(o){var a,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N("auth/admin-login",{email:e,password:t},"POST");case 2:return a=n.sent,n.next=5,a.json();case 5:c=n.sent,console.log(c),"Login OK"===c.msg?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),o(P({uid:c.usuario.uid,name:c.usuario.nombre,resto:c.usuario}))):(console.log(c.msg),T.a.fire("Error","".concat(c.msg),"warning"));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,s))},children:[Object(z.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:m}),Object(z.jsx)(h.a,{variant:"outlined",margin:"normal",required:"true",fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onChange:m}),Object(z.jsx)(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:e.submit,children:"Iniciar Sesi\xf3n"}),Object(z.jsx)(O.a,{mt:5,children:Object(z.jsx)(_,{})})]})]})})]})},H=n(214),U=function(e){var t=e.isAuthenticated,n=e.component,o=Object(H.a)(e,["isAuthenticated","component"]);return Object(z.jsx)(s.b,Object(u.a)(Object(u.a)({},o),{},{component:function(e){return t?Object(z.jsx)(s.a,{to:"/home"}):Object(z.jsx)(n,Object(u.a)({},e))}}))},W=function(e){var t=e.isAuthenticated,n=e.component,o=Object(H.a)(e,["isAuthenticated","component"]);return Object(z.jsx)(s.b,Object(u.a)(Object(u.a)({},o),{},{component:function(e){return t?Object(z.jsx)(n,Object(u.a)({},e)):Object(z.jsx)(s.a,{to:"/"})}}))},J=n(59),q=n(547),X=n(75),Y=n.n(X),Z=n(74),K=n.n(Z),Q=n(77),$=n.n(Q),ee=function(){var e=localStorage.getItem("token"),t=Object(o.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/articulos/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.articulos)})).catch((function(e){console.log(e)}))}),[e]);var i=[{title:"Denominacion",field:"denominacion"},{title:"\xbfEs Manufacturado?",field:"esManufacturado",render:function(e){return!0===e.estado?Object(z.jsx)($.a,{label:"SI",style:{backgroundColor:"green",color:"white"}}):Object(z.jsx)($.a,{label:"NO",style:{backgroundColor:"red",color:"white"}})}},{title:"Imagen",field:"imagen",render:function(e){return Object(z.jsx)("img",{src:e.imagen,style:{width:50,borderRadius:"20%"},alt:"prod"})}},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Tiempo Cocci\xf3n",field:"tiempoEstimadoCocina"},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(z.jsx)($.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(z.jsx)($.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(z.jsx)("div",{children:0===a.length?Object(z.jsx)(J.BlockLoading,{size:"large"}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(K.a,{columns:i,data:a,title:"Listado De Productos",actions:[{icon:"edit",tooltip:"Editar Producto",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Producto",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},te=n(359),ne=function(){var e=localStorage.getItem("token"),t=Object(o.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(o.useCallback)((function(t){Y.a.delete("https://buen-sabor-api.herokuapp.com/api/ingredientes/".concat(t),{headers:{"x-token":e}}).then((function(e){console.log(e.data.msg),T.a.fire("","".concat(e.data.msg),"success")})).catch((function(e){console.log(e)}))}),[e]);Object(o.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/ingredientes").then((function(e){c(e.data.ingredientes)})).catch((function(e){console.log(e)}))}),[i]);var r=[{title:"Nombre",field:"denominacion"},{title:"Precio Compra",field:"precioCompra",type:"numeric"},{title:"Precio Venta",field:"precioVenta",type:"numeric"},{title:"Stock Actual",field:"stockActual",type:"numeric"},{title:"Stock Minimo",field:"stockMinimo",type:"numeric"},{title:"Unidad Medida",field:"unidadMedida"},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(z.jsx)(te.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(z.jsx)(te.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(z.jsx)("div",{children:0===a.length?Object(z.jsx)(J.BlockLoading,{size:"large"}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"mt-3",children:Object(z.jsx)(K.a,{columns:r,data:a,title:"Listado Ingredientes",actions:[{icon:"edit",tooltip:"Editar Ingrediente",onClick:function(e,t){return T.a.fire("","".concat(t.denominacion),"success")}},{icon:"delete",tooltip:"Eliminar Ingrediente",onClick:function(e,t){return i(t._id)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"},toolbar:{searchTooltip:"Buscar",searchPlaceholder:"Buscar"},body:{emptyDataSourceMessage:"No Se Encontraron Ingredientes"}}})})})})},oe=function(){var e=localStorage.getItem("token"),t=Object(o.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/roles",{headers:{"x-token":e}}).then((function(e){c(e.data.roles)})).catch((function(e){console.log(e)}))}),[e]);return Object(z.jsx)("div",{children:0===a.length?Object(z.jsx)(J.BlockLoading,{size:"large"}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(K.a,{columns:[{title:"Nombre",field:"rol"}],data:a,title:"Listado De Roles",actions:[{icon:"edit",tooltip:"Editar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Rol",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},ae=function(){var e=localStorage.getItem("token"),t=Object(o.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/usuarios",{headers:{"x-token":e}}).then((function(e){c(e.data.usuarios)})).catch((function(e){console.log(e)}))}),[e]);var i=[{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Foto",field:"img",render:function(e){return Object(z.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"user"})}},{title:"E-Mail",field:"email"},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(z.jsx)($.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(z.jsx)($.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(z.jsx)("div",{children:0===a.length?Object(z.jsx)(J.BlockLoading,{size:"large"}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(K.a,{columns:i,data:a,title:"Listado De Usuarios",actions:[{icon:"edit",tooltip:"Editar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Usuario",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},ce=n(10),ie=n(546),re=n(335),se=n(259),le=n(334),ue=n(195),de=n(367),je=n.n(de),be=n(548),pe=n(545),he=n(368),me=n.n(he),ge=n(369),Oe=n.n(ge),fe=n(370),xe=n.n(fe),ke=n(371),ve=n.n(ke),ye=n(372),Ce=n.n(ye),we=Object(k.a)((function(e){return{grow:{flexGrow:1},title:Object(l.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),avatarName:{alignContent:"center"},search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ce.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ce.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(l.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(l.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function Se(){var e=we(),t=Object(s.g)(),n=a.a.useState(null),o=Object(d.a)(n,2),c=o[0],i=o[1],l=a.a.useState(null),u=Object(d.a)(l,2),b=u[0],p=u[1],h=Boolean(c),m=Boolean(b),O=function(e){i(e.currentTarget)},f=function(){p(null)},k=function(){i(null),f()},v=Object(C.d)((function(e){return e.auth.resto})),w=v.nombre,S=v.img,E=Object(C.c)(),I="primary-search-account-menu",N=Object(z.jsxs)(ue.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:I,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:k,children:[Object(z.jsx)(le.a,{onClick:k,children:"Perfil"}),Object(z.jsx)(le.a,{onClick:function(){E((function(e){localStorage.clear(),e(R())}))},children:"Cerrar Sesi\xf3n"})]}),B="primary-search-account-menu-mobile",L=Object(z.jsx)(ue.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:B,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:f,children:Object(z.jsxs)(le.a,{onClick:O,children:[Object(z.jsxs)(se.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:[Object(z.jsx)(x.a,{className:e.avatarName,children:w}),Object(z.jsx)(j.a,{alt:"Remy Sharp",src:S,className:e.large})]}),Object(z.jsx)("p",{children:"Perfil"})]})});return Object(z.jsxs)("div",{className:e.grow,children:[Object(z.jsxs)(ie.a,{position:"absolute",children:[Object(z.jsxs)(re.a,{children:[Object(z.jsx)(y.a,{}),Object(z.jsx)(x.a,{className:e.title,variant:"h6",noWrap:!0,children:"El Buen Sabor"}),Object(z.jsx)("div",{className:e.grow}),Object(z.jsx)("div",{className:e.sectionDesktop,children:Object(z.jsx)(se.a,{edge:"start","aria-label":"account of current user","aria-controls":I,"aria-haspopup":"true",onClick:O,color:"inherit",children:Object(z.jsx)(j.a,{alt:"Remy Sharp",src:S,className:e.large})})}),Object(z.jsx)("div",{className:e.sectionMobile,children:Object(z.jsx)(se.a,{"aria-label":"show more","aria-controls":B,"aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",children:Object(z.jsx)(je.a,{})})})]}),Object(z.jsx)(g.a,{children:Object(z.jsxs)(be.a,{value:"/"!==t.location.pathname&&t.location.pathname,variant:"scrollable",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example",children:[Object(z.jsx)(pe.a,{icon:Object(z.jsx)(me.a,{}),label:"Home",component:r.b,to:"/home",value:"/home"}),Object(z.jsx)(pe.a,{icon:Object(z.jsx)(Oe.a,{}),label:"Ingredientes",component:r.b,to:"/ingredientes-list",value:"/ingredientes-list"}),Object(z.jsx)(pe.a,{icon:Object(z.jsx)(y.a,{}),label:"Productos",component:r.b,to:"/products-list",value:"/products-list"}),Object(z.jsx)(pe.a,{icon:Object(z.jsx)(xe.a,{}),label:"Usuarios",component:r.b,to:"/usuarios-list",value:"/usuarios-list"}),Object(z.jsx)(pe.a,{icon:Object(z.jsx)(ve.a,{}),label:"Categorias",component:r.b,to:"/categorias-list",value:"/categorias-list"}),Object(z.jsx)(pe.a,{icon:Object(z.jsx)(Ce.a,{}),label:"Roles",component:r.b,to:"/roles-list",value:"/roles-list"})]})})]}),L,N]})}var Ee=function(){var e=localStorage.getItem("token"),t=Object(o.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){Y.a.get("https://buen-sabor-api.herokuapp.com/api/categorias/admin",{headers:{"x-token":e}}).then((function(e){c(e.data.categorias)})).catch((function(e){console.log(e)}))}),[e]);var i=[{title:"Nombre",field:"nombre"},{title:"Imagen",field:"img",render:function(e){return Object(z.jsx)("img",{src:e.img,style:{width:50,borderRadius:"20%"},alt:"cat"})}},{title:"Estado",field:"estado",render:function(e){return!0===e.estado?Object(z.jsx)($.a,{label:"Activo",style:{backgroundColor:"green",color:"white"}}):Object(z.jsx)($.a,{label:"Inactivo",style:{backgroundColor:"red",color:"white"}})}}];return Object(z.jsx)("div",{children:0===a.length?Object(z.jsx)(J.BlockLoading,{size:"large"}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(K.a,{columns:i,data:a,title:"Listado De Categorias",actions:[{icon:"edit",tooltip:"Editar Categoria",onClick:function(e,t){return alert("presionaste "+t.denominacion)}},{icon:"delete",tooltip:"Eliminar Categoria",onClick:function(e,t){return alert("presionaste "+t.denominacion)}}],options:{actionsColumnIndex:-1,exportButton:!0},localization:{header:{actions:"Acciones"}}})})})},Ie=function(){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Home"}),Object(z.jsx)(J.HeartBoomLoading,{})]})};function Ne(){return Object(z.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ","El Buen Sabor ",(new Date).getFullYear(),"."]})}var Be=Object(k.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),Le=function(){var e=Be();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("footer",{className:e.footer,children:[Object(z.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:"El Buen Sabor"}),Object(z.jsx)(x.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Only Archons Allowed"}),Object(z.jsx)(Ne,{})]})})},Ae=Object(k.a)((function(e){return{root:{marginTop:"170px"}}})),De=function(){var e=Ae();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Se,{}),Object(z.jsx)(q.a,{fixed:!0,className:e.root,children:Object(z.jsxs)(s.d,{children:[Object(z.jsx)(s.b,{exact:!0,path:"/products-list",component:ee}),Object(z.jsx)(s.b,{exact:!0,path:"/ingredientes-list",component:ne}),Object(z.jsx)(s.b,{exact:!0,path:"/usuarios-list",component:ae}),Object(z.jsx)(s.b,{exact:!0,path:"/roles-list",component:oe}),Object(z.jsx)(s.b,{exact:!0,path:"/categorias-list",component:Ee}),Object(z.jsx)(s.b,{exact:!0,path:"/home",component:Ie})]})}),Object(z.jsx)(Le,{})]})},Me=function(){var e=Object(C.c)(),t=Object(C.d)((function(e){return e.auth})),n=t.checking,a=t.uid;return Object(o.useEffect)((function(){e(function(){var e=Object(E.a)(S.a.mark((function e(t){var n,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("auth/renewtoken");case 2:return n=e.sent,e.next=5,n.json();case 5:(o=e.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(P({uid:o._id,name:o.nombre,resto:o.usuario}))):t(F());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(z.jsx)(J.SemipolarLoading,{}):Object(z.jsx)(r.a,{children:Object(z.jsxs)("div",{children:[Object(z.jsxs)(s.d,{children:[Object(z.jsx)(U,{exact:!0,path:"/",component:G,isAuthenticated:!!a}),Object(z.jsx)(W,{component:De,isAuthenticated:!!a})]}),Object(z.jsx)(s.a,{path:"/"})]})})},Te=n(61),Fe=n(373),Pe={checking:!0},Re=Object(Te.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{checking:!1});case L:return Object(u.a)(Object(u.a)({},e),{},{checking:!1});case D:return{checking:!1};default:return e}}}),ze="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Te.d,_e=Object(Te.e)(Re,ze(Object(Te.a)(Fe.a)));var Ve=function(){return Object(z.jsx)(C.a,{store:_e,children:Object(z.jsx)(Me,{})})},Ge=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,922)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),c(e),i(e)}))};i.a.render(Object(z.jsx)(Ve,{}),document.getElementById("root")),Ge()}},[[513,1,2]]]);
//# sourceMappingURL=main.00812904.chunk.js.map